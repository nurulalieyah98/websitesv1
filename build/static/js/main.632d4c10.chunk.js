(this.webpackJsonpwebsites_jsm=this.webpackJsonpwebsites_jsm||[]).push([[0],{18:function(e,t,a){},41:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(2),c=a.n(n),o=a(34),r=a.n(o),l=(a(41),a(8)),i=a(9),d=a(11),h=a(10),j=(a(18),a(28));a(23);j.a.initializeApp({apiKey:"AIzaSyAJEIDNaEXNuj17cAOg6pK78Fk_gARp5Wc",authDomain:"jasin-smart.firebaseapp.com",databaseURL:"https://jasin-smart.firebaseio.com",projectId:"jasin-smart",storageBucket:"jasin-smart.appspot.com",messagingSenderId:"356895521158",appId:"1:356895521158:web:23155ad05d934dcf999407"}),j.a.firestore().settings({timestampsInSnapshtos:!0});var b=j.a,u=(a(19),a(51)),m=a(6),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),s=a.title,n=a.author,c=a.category,o=a.url,r=a.shelves,l=a.synopsis,i=a.beaconName,d=a.quantity;t.push({key:e.id,doc:e,title:s,author:n,category:c,url:o,shelves:r,synopsis:l,beaconName:i,quantity:d})})),s.setState({books:t})},s.ref=b.firestore().collection("books"),s.unsubscribe=null,s.state={books:[]},s}return Object(i.a)(a,[{key:"logout",value:function(){var e=this;b.auth().signOut().then((function(){e.setState({user:null}),e.props.history.push("/")})).catch((function(e){}))}},{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsxs)("div",{className:"Buttonv1",children:[Object(s.jsx)(m.b,{to:"/beacon",children:Object(s.jsx)("button",{className:"Add-Button",children:"Show Beacon"})})," \xa0",Object(s.jsx)(m.b,{to:"/create",children:Object(s.jsx)("button",{className:"Add-Button",children:"Add Books"})})," \xa0",Object(s.jsx)(m.b,{to:"/",children:Object(s.jsx)("button",{className:"buttonlogout",onClick:this.logout,children:"Logout"})})]}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"panel panel-heading",children:Object(s.jsx)("h3",{className:"panel heading","font-color":"black",children:"Books Details"})})}),Object(s.jsx)("div",{className:"panel-body",children:Object(s.jsxs)("table",{className:"table table-stripe",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{children:"Author"}),Object(s.jsx)("th",{children:"Category"}),Object(s.jsx)("th",{children:"Quantity"}),Object(s.jsx)("th",{children:"Shelves"}),Object(s.jsx)("th",{children:"Beacon Name"}),Object(s.jsx)("th",{children:"Synopsis"}),Object(s.jsx)("th",{children:"Image"})]})}),Object(s.jsx)("tbody",{children:this.state.books.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(m.b,{to:"/show/".concat(e.key),children:e.title})}),Object(s.jsx)("td",{children:e.author}),Object(s.jsx)("td",{children:e.category}),Object(s.jsx)("td",{children:e.quantity}),Object(s.jsx)("td",{children:e.shelves}),Object(s.jsx)("td",{children:e.beaconName}),Object(s.jsx)("td",{children:e.synopsis}),Object(s.jsx)("td",{children:Object(s.jsx)("img",{src:e.url,width:"100px",height:"100px",alt:""})})]})}))})]})})]})})}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(25);var O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t=s.state;t[e.target.name]=e.target.value,t[e.target.shelves]=e.target.value,t[e.target.category]=e.target.value,t[e.target.author]=e.target.value,t[e.target.beaconName]=e.target.value,t[e.target.title]=e.target.value,t[e.target.quantity]=e.target.value,s.setState(t)},s.handleChange=function(e){e.target.files[0]&&s.setState({image:e.target.files[0]}),console.log(e.target.files[0])},s.handleUpload=function(){s.setState({check:1});var e=s.state.image;b.storage().ref("Book Images/".concat(e.name)).put(s.state.image).on("state_changed",(function(e){console.log("snapshot")}),(function(e){console.log(e)}),(function(){b.storage().ref("Book Images").child(e.name).getDownloadURL().then((function(e){s.setState({url:e})}))}))},s.onSubmit=function(e){if(1===s.state.check){e.preventDefault();var t=s.state,a=t.title,n=t.author,c=t.synopsis,o=t.category,r=t.shelves,l=t.beaconName;t.quantity;s.ref.add({title:a,author:n,synopsis:c,category:o,shelves:r,beaconName:l,quantity:parseInt(s.state.quantity),url:s.state.url}).then((function(e){s.setState({title:"",author:"",synopsis:"",category:"",shelves:"",beaconName:"",quantity:parseInt(s.state.quantity),url:""}),alert("Book is successfully added"),s.props.history.push("/book")})).catch((function(e){alert("Error adding book"),console.error("Error adding document: ",e)})),s.setState({check:0})}else alert("Please upload your image first")},s.ref=b.firestore().collection("books"),s.state={title:"",author:"",category:"",shelves:"",synopsis:"",beaconName:"",quantity:"",url:"",image:[],check:0},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.author,n=e.synopsis,c=e.category,o=e.shelves,r=e.beaconName,l=e.quantity;return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/book",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Books"})})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Book Title : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"title",value:t,onChange:this.onChange,placeholder:"Please Enter Title"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Author : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"author",value:a,onChange:this.onChange,placeholder:"Please Enter Author"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Category : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"category",value:c,onChange:this.onChange,placeholder:"Please Enter Category"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Quantity Book : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"quantity",value:l,onChange:this.onChange,placeholder:"Please Enter Quantity Book"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Beacon Name : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconName",value:r,onChange:this.onChange,placeholder:"Eg: Level 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Shelves : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"shelves",value:o,onChange:this.onChange,placeholder:"Eg: Level 1, Rack 1, Stack 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Synopsis : "}),Object(s.jsx)("textarea",{className:"form-control",name:"synopsis",onChange:this.onChange,value:n,placeholder:"Synopsis",cols:"80",rows:"3",children:n})]})]}),Object(s.jsxs)("div",{className:"upload-btn-wrapper",children:[Object(s.jsx)("button",{className:"file-btn",children:"Upload Book Image"}),Object(s.jsx)("input",{type:"file",name:"myfile",multiple:!0,onChange:this.handleChange})]}),Object(s.jsx)("div",{className:"upload-data",children:Object(s.jsx)("img",{src:this.state.url,alt:"",height:"200",width:"200"})}),Object(s.jsxs)("div",{className:"Buttons",children:[Object(s.jsx)("button",{className:"Submit-Button",onClick:this.handleUpload,children:"Upload Book Image"}),Object(s.jsx)("button",{className:"Submit-Button",onClick:this.onSubmit,children:"Save All"})]})]})})}}]),a}(c.a.Component),p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleChange=function(e){e.target.files[0]&&s.setState({image:e.target.files[0]}),console.log(e.target.files[0])},s.handleUpload=function(){var e=s.state,t=e.image,a=e.url,n=b.storage().refFromURL(a);b.storage().ref("Book Images/".concat(t.name)).put(s.state.image).on("state_changed",(function(e){console.log("snapshot")}),(function(e){console.log(e)}),(function(){b.storage().ref("Book Images").child(t.name).getDownloadURL().then((function(e){s.setState({url:e})}))})),n.delete().then((function(){console.log("file deleted")})).catch((function(){console.log("error while deleting the file")}))},s.onChange=function(e){var t=s.state;t[e.target.name]=e.target.value,t[e.target.shelves]=e.target.value,t[e.target.category]=e.target.value,t[e.target.author]=e.target.value,t[e.target.beaconName]=e.target.value,t[e.target.quantity]=e.target.value,t[e.target.title]=e.target.value,s.setState({document:t})},s.onSubmit=function(e){e.preventDefault();var t=s.state,a=t.title,n=t.author,c=t.synopsis,o=t.category,r=t.shelves,l=t.beaconName,i=(t.quantity,t.url);b.firestore().collection("books").doc(s.state.key).set({title:a,author:n,synopsis:c,category:o,shelves:r,beaconName:l,quantity:parseInt(s.state.quantity),url:i}).then((function(e){s.setState({key:"",title:"",author:"",synopsis:"",category:"",shelves:"",beaconName:"",quantity:parseInt(s.state.quantity),url:""}),alert("Book is successfully edited"),s.props.history.push("/show/"+s.props.match.params.id)})).catch((function(e){console.error("Error editing the document: ",e)}))},s.state={key:"",title:"",author:"",synopsis:"",category:"",shelves:"",beaconName:"",quantity:"",url:"",image:null},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("books").doc(this.props.match.params.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,title:a.title,author:a.author,synopsis:a.synopsis,category:a.category,shelves:a.shelves,beaconName:a.beaconName,quantity:a.quantity,url:a.url})}else console.log("No such document is here!")}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/book",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Books"})})}),Object(s.jsx)("div",{className:"upload-data",children:Object(s.jsx)("img",{src:this.state.url,alt:"",height:"200",width:"200"})}),Object(s.jsxs)("div",{className:"upload-btn-wrapper",children:[Object(s.jsx)("button",{className:"file-btn",children:"Choose book image"}),Object(s.jsx)("input",{type:"file",name:"myfile",multiple:!0,onChange:this.handleChange})]}),Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)("button",{className:"Submit-Button",onClick:this.handleUpload,children:"Upload Book Image"})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"panel panel-default",children:Object(s.jsx)("div",{className:"panel-body",children:Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Book Title : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"title",value:this.state.title,onChange:this.onChange,placeholder:"Please Enter Title"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Author : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"author",value:this.state.author,onChange:this.onChange,placeholder:"Please Enter Author"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Category : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"category",value:this.state.category,onChange:this.onChange,placeholder:"Please Enter Category"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Quantity Book : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"quantity",value:this.state.quantity,onChange:this.onChange,placeholder:"Please Enter Quantity Book"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Beacon Name : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconName",value:this.state.beaconName,onChange:this.onChange,placeholder:"Eg: Level 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Shelves : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"shelves",value:this.state.shelves,onChange:this.onChange,placeholder:"Eg: Level 1, Rack 1, Stack 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Synopsis : "}),Object(s.jsx)("textarea",{className:"form-control",name:"synopsis",value:this.state.synopsis,onChange:this.onChange,placeholder:"Synopsis",cols:"80",rows:"3",children:this.state.synopsis})]}),"\xa0",Object(s.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})]})})})})]})})}}]),a}(c.a.Component),g=a(7),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={book:[],key:""},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("books").doc(this.props.match.params.id).get().then((function(t){t.exists?e.setState({book:t.data(),key:t.id,isLoading:!1}):console.log("No such document is here!")}))}},{key:"delete",value:function(e){var t=this,a=b.storage().refFromURL(this.state.book.url);b.firestore().collection("books").doc(e).delete().then((function(){console.log("Book is successfully deleted"),alert("Book is successfully deleted"),t.props.history.push("/")})).catch((function(e){console.error("Error is",e)})),a.delete().then((function(){console.log("file deleted")})).catch((function(){console.log("error while deleting the file"),alert("Error deleting book")}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/book",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Books"})})}),Object(s.jsx)("div",{className:"upload-data",children:Object(s.jsx)("img",{src:this.state.book.url,alt:"",height:"200",width:"200"})}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"panel panel-default",children:Object(s.jsx)("h3",{className:"panel-title",children:this.state.book.title})}),Object(s.jsxs)("div",{className:"panel-body",children:[Object(s.jsxs)("dl",{children:[Object(s.jsx)("dt",{children:"Author:"}),Object(s.jsx)("dd",{children:this.state.book.author}),Object(s.jsx)("dt",{children:"Category:"}),Object(s.jsx)("dd",{children:this.state.book.category}),Object(s.jsx)("dt",{children:"Quantity:"}),Object(s.jsx)("dd",{children:this.state.book.quantity}),Object(s.jsx)("dt",{children:"Shelves:"}),Object(s.jsx)("dd",{children:this.state.book.shelves}),Object(s.jsx)("dt",{children:"Beacon Name:"}),Object(s.jsx)("dd",{children:this.state.book.beaconName}),Object(s.jsx)("dt",{children:"Synopsis:"}),Object(s.jsx)("dd",{children:this.state.book.synopsis})]}),Object(s.jsx)(m.b,{to:"/edit/".concat(this.state.key),className:"btn btn-success",children:"Edit"}),"\xa0",Object(s.jsx)("button",{onClick:this.delete.bind(this,this.state.key),className:"btn btn-danger",children:"Delete"})]})]})]})})}}]),a}(c.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t=s.state;t[e.target.beaconId]=e.target.value,t[e.target.major]=e.target.value,t[e.target.minor]=e.target.value,t[e.target.name]=e.target.value,t[e.target.beaconName]=e.target.value,s.setState(t)},s.onSubmit=function(e){e.preventDefault();var t=s.state,a=t.beaconId,n=t.beaconName,c=t.major,o=t.minor;s.ref.add({beaconId:a,beaconName:n,major:c,minor:o}).then((function(e){s.setState({beaconId:"",beaconName:"",major:"",minor:""}),alert("Beacon is successfully added"),s.props.history.push("/beacon")})).catch((function(e){alert("Error adding book"),console.error("Error adding document: ",e)}))},s.ref=b.firestore().collection("beacon"),s.state={beaconId:"",major:"",minor:"",beaconName:""},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.beaconId,a=e.beaconName,n=e.major,c=e.minor;return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/beacon",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Beacon"})})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Beacon Id : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconId",value:t,onChange:this.onChange,placeholder:"Eg: b9407f30-f5f8-466e-aff9-25556b57fe6a "})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Name : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconName",value:a,onChange:this.onChange,placeholder:"Eg: Level 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Major : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"major",value:n,onChange:this.onChange,placeholder:"Please Enter Major"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Minor : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"minor",value:c,onChange:this.onChange,placeholder:"Please Enter Minor"})]})]}),Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)("button",{className:"Submit-Button",onClick:this.onSubmit,children:"Save All"})})]})})}}]),a}(c.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),s=a.beaconId,n=a.major,c=a.minor,o=a.beaconName;t.push({key:e.id,doc:e,beaconId:s,major:n,minor:c,beaconName:o})})),s.setState({beacons:t})},s.ref=b.firestore().collection("beacon"),s.unsubscribe=null,s.state={beacons:[]},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsxs)("div",{className:"Buttonv1",children:[Object(s.jsx)(m.b,{to:"/book",children:Object(s.jsx)("button",{className:"Add-Button",children:"Show Book"})})," \xa0",Object(s.jsx)(m.b,{to:"/creates/beacon",children:Object(s.jsx)("button",{className:"Add-Button",children:"Add Beacon"})})]}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"panel panel-heading",children:Object(s.jsx)("h3",{className:"panel heading",children:"Beacon Details"})})}),Object(s.jsx)("div",{className:"panel-body",children:Object(s.jsxs)("table",{className:"table table-stripe",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Beacon ID"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Major"}),Object(s.jsx)("th",{children:"Minor"})]})}),Object(s.jsx)("tbody",{children:this.state.beacons.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(m.b,{to:"/shows/beacon/".concat(e.key),children:e.beaconId})}),Object(s.jsx)("td",{children:e.beaconName}),Object(s.jsx)("td",{children:e.major}),Object(s.jsx)("td",{children:e.minor})]})}))})]})})]})})}}]),a}(c.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={beacon:[],key:""},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("beacon").doc(this.props.match.params.id).get().then((function(t){t.exists?e.setState({beacon:t.data(),key:t.id,isLoading:!1}):console.log("No such document is here!")}))}},{key:"delete",value:function(e){var t=this;b.firestore().collection("beacon").doc(e).delete().then((function(){console.log("Beacon is successfully deleted"),alert("Beacon is successfully deleted"),t.props.history.push("/beacon")})).catch((function(e){console.error("Error is",e)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/beacon",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Beacon"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"panel-body",children:[Object(s.jsxs)("dl",{children:[Object(s.jsx)("dt",{children:"Beacon ID:"}),Object(s.jsx)("dd",{children:this.state.beacon.beaconId}),Object(s.jsx)("dt",{children:"Name:"}),Object(s.jsx)("dd",{children:this.state.beacon.beaconName}),Object(s.jsx)("dt",{children:"Major:"}),Object(s.jsx)("dd",{children:this.state.beacon.major}),Object(s.jsx)("dt",{children:"Minor:"}),Object(s.jsx)("dd",{children:this.state.beacon.minor})]}),Object(s.jsx)(m.b,{to:"/edits/beacon/".concat(this.state.key),className:"btn btn-success",children:"Edit"}),"\xa0",Object(s.jsx)("button",{onClick:this.delete.bind(this,this.state.key),className:"btn btn-danger",children:"Delete"})]})})]})})}}]),a}(c.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t=s.state;t[e.target.name]=e.target.value,t[e.target.beaconName]=e.target.value,t[e.target.major]=e.target.value,t[e.target.minor]=e.target.value,s.setState({document:t})},s.onSubmit=function(e){e.preventDefault();var t=s.state,a=t.beaconId,n=t.beaconName,c=t.major,o=t.minor;b.firestore().collection("beacon").doc(s.state.key).set({beaconId:a,beaconName:n,major:c,minor:o}).then((function(e){s.setState({key:"",beaconId:"",beaconName:"",major:"",minor:""}),alert("Beacon is successfully edited"),s.props.history.push("/shows/beacon/"+s.props.match.params.id)})).catch((function(e){console.error("Error editing the document: ",e)}))},s.state={key:"",beaconId:"",beaconName:"",major:"",minor:""},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("beacon").doc(this.props.match.params.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,beaconId:a.beaconId,beaconName:a.beaconName,major:a.major,minor:a.minor})}else console.log("No such document is here!")}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(u.a,{className:"cardStyles",style:{width:"60rem",borderStyle:"outset",borderLeft:"50px solid black",borderRadius:"20px"},children:[Object(s.jsx)("div",{className:"Buttons",children:Object(s.jsx)(m.b,{to:"/beacon",children:Object(s.jsx)("button",{className:"Edit-Button",children:"Show Beacon"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"panel panel-default",children:Object(s.jsx)("div",{className:"panel-body",children:Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Beacon ID : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconId",value:this.state.beaconId,onChange:this.onChange,placeholder:"Eg: b9407f30-f5f8-466e-aff9-25556b57fe6a"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Name : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"beaconName",value:this.state.beaconName,onChange:this.onChange,placeholder:"Eg: Level 1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Major : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"major",value:this.state.major,onChange:this.onChange,placeholder:"Enter Major Beacon"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"form-group"}),Object(s.jsx)("label",{htmlFor:"name",children:"Minor : "}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"minor",value:this.state.minor,onChange:this.onChange,placeholder:"Enter Minor Beacon"})]}),"\xa0",Object(s.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})]})})})})]})})}}]),a}(c.a.Component),S=a(24),C=function(e){var t=e.email,a=e.setEmail,n=e.password,c=e.setPassword,o=e.handleLogin,r=(e.handleSignup,e.hasAccount),l=(e.setHasAccount,e.emailError),i=e.passwordError;return Object(s.jsx)("section",{className:"login",children:Object(s.jsxs)("div",{className:"loginContainer",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return a(e.target.value)}}),Object(s.jsx)("p",{className:"errorMsg",children:l}),Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",required:!0,value:n,onChange:function(e){return c(e.target.value)}}),Object(s.jsx)("p",{className:"errorMsg",children:i}),Object(s.jsx)("div",{className:"btnContainer",children:r?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClik:o,children:"Sign In"}),Object(s.jsxs)("p",{children:["Dont have an account ? ",Object(s.jsx)("span",{children:"Sign Up"})]})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{className:"buttonlogin",onClick:o,children:"Sign In"})})})]})})},B=(a(48),function(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(S.a)(o,2),l=r[0],i=r[1],d=Object(n.useState)(""),h=Object(S.a)(d,2),j=h[0],u=h[1],m=Object(n.useState)(""),O=Object(S.a)(m,2),p=O[0],g=O[1],v=Object(n.useState)(""),f=Object(S.a)(v,2),y=f[0],N=f[1],k=Object(n.useState)(!1),B=Object(S.a)(k,2),w=B[0],E=B[1],I=function(){b.auth().onAuthStateChanged((function(e){e?(i(""),u(""),c(e)):c("")}))};return Object(n.useEffect)((function(){I()}),[]),Object(s.jsx)("div",{className:"App",children:a?Object(s.jsx)(x,{}):Object(s.jsx)(C,{email:l,setEmail:i,password:j,setPassword:u,handleLogin:function(){"adminkjm@gmail.com"==l&&"adminKJM2014"==j?(g(""),u(""),b.auth().signInWithEmailAndPassword(l,j).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":g(e.message);break;case"auth/wrong-password":N(e.message)}})),alert("Successful login")):"adminkjm@gmail.com"==l&&"adminKJM2014"==j||alert("Please check your email and password @ you are not admin")},hasAccount:w,setHasAccount:E,emailError:p,passwordError:y})})});r.a.render(Object(s.jsxs)(m.a,{children:[Object(s.jsx)(g.a,{exact:!0,path:"/",component:B}),Object(s.jsx)(g.a,{exact:!0,path:"/book",component:x}),Object(s.jsx)(g.a,{path:"/create",component:O}),Object(s.jsx)(g.a,{path:"/show/:id",component:v}),Object(s.jsx)(g.a,{path:"/edit/:id",component:p}),Object(s.jsx)(g.a,{path:"/beacon",component:y}),Object(s.jsx)(g.a,{path:"/creates/beacon",component:f}),Object(s.jsx)(g.a,{path:"/shows/beacon/:id",component:N}),Object(s.jsx)(g.a,{path:"/edits/beacon/:id",component:k})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);
//# sourceMappingURL=main.632d4c10.chunk.js.map